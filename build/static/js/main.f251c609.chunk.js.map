{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/Notification.js","components/PersonForm.js","services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","id","Persons","persons","map","Filter","filter","handleOnChange","value","onChange","Notification","notification","message","type","className","PersonForm","values","handlers","handleSubmit","handleNameChange","handleNumberChange","onSubmit","baseUrl","axios","post","then","response","data","delete","put","get","App","useState","setPersons","setName","setNumber","search","setSearch","setNotification","useEffect","personService","personsNames","shownPersons","toLowerCase","includes","setStateOnChange","setState","event","target","setNotificationWithTimeout","setTimeout","handleSearchChange","e","preventDefault","newPerson","window","confirm","find","catch","error","concat","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f251c609.chunk.js","sourcesContent":["const Person = ({ person, deletePerson }) => (\n  <p>\n    {person.name} {person.number}\n    <button onClick={() => deletePerson(person.id)}>delete</button>\n  </p>\n);\n\nexport default Person;\n","import Person from \"./Person\";\n\nconst Persons = ({ persons, deletePerson }) => {\n  return persons.map((person) => (\n    <Person key={person.name} person={person} deletePerson={deletePerson} />\n  ));\n};\n\nexport default Persons;\n","const Filter = ({ filter, handleOnChange }) => {\n  return (\n    <label>\n      Filter shown with: <input value={filter} onChange={handleOnChange} />\n    </label>\n  );\n};\n\nexport default Filter;\n","const Notification = ({ notification }) => {\n  if (notification !== null) {\n    const { message, type } = notification;\n    return <p className={type}>{message}</p>;\n  }\n  return null;\n};\n\nexport default Notification;\n","const PersonForm = ({ values, handlers }) => {\n  const { name, number } = values;\n  const { handleSubmit, handleNameChange, handleNumberChange } = handlers;\n  return (\n    <form onSubmit={handleSubmit}>\n      <h3>Add a new Person</h3>\n      <label>\n        Name: <input value={name} onChange={handleNameChange} />\n      </label>\n      <br />\n      <label>\n        Number: <input value={number} onChange={handleNumberChange} />\n      </label>\n      <button type=\"submit\">add</button>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst findAll = () => {\n  return axios.get(baseUrl).then((response) => response.data);\n};\n\nconst create = (person) => {\n  return axios.post(baseUrl, person).then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  return axios.delete(`${baseUrl}/${id}`).then((response) => response.data);\n};\n\nconst update = (id, person) => {\n  return axios\n    .put(`${baseUrl}/${id}`, person)\n    .then((response) => response.data);\n};\n\nexport default { create, deletePerson, update, findAll };\n","import { useState, useEffect } from \"react\";\nimport \"./index.css\";\nimport Persons from \"./components/Persons\";\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\nimport PersonForm from \"./components/PersonForm\";\nimport personService from \"./services/persons\";\n\nfunction App() {\n  const [persons, setPersons] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n\n  useEffect(() => {\n    personService.findAll().then((persons) => setPersons(persons));\n  }, []);\n\n  const personsNames = persons.map((person) => person.name);\n  const shownPersons = search\n    ? persons.filter((person) =>\n        person.name.toLowerCase().includes(search.toLowerCase())\n      )\n    : persons;\n\n  const setStateOnChange = (setState) => (event) => {\n    setState(event.target.value);\n  };\n\n  const setNotificationWithTimeout = (type, message) => {\n    setNotification({ type, message });\n    setTimeout(() => setNotification({}), 8000);\n  };\n\n  const handleNameChange = setStateOnChange(setName);\n  const handleNumberChange = setStateOnChange(setNumber);\n  const handleSearchChange = setStateOnChange(setSearch);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const newPerson = {\n      name,\n      number,\n    };\n\n    if (personsNames.includes(name)) {\n      if (\n        window.confirm(\n          `${name} is already added to phonebook, replace the old number with the new one?`\n        )\n      ) {\n        const person = persons.find((person) => person.name === name);\n        personService\n          .update(person.id, newPerson)\n          .then((newPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id === newPerson.id ? newPerson : person\n              )\n            );\n            setNumber(\"\");\n            setName(\"\");\n            setNotificationWithTimeout(\n              \"success\",\n              `Modified ${person.name}'s phone`\n            );\n          })\n          .catch((error) => {\n            setNotificationWithTimeout(\"error\", error.response.data.error);\n          });\n      }\n      return;\n    }\n\n    personService\n      .create(newPerson)\n      .then((newPerson) => {\n        setNotificationWithTimeout(\"success\", `Added ${newPerson.name}`);\n        setPersons(persons.concat(newPerson));\n        setName(\"\");\n        setNumber(\"\");\n      })\n      .catch((error) => {\n        setNotificationWithTimeout(\"error\", error.response.data.error);\n      });\n  };\n\n  const deletePerson = (id) => {\n    const person = persons.find((person) => person.id === id);\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .deletePerson(id)\n        .then(() => {\n          setNotificationWithTimeout(\"success\", `Deleted ${person.name}!`);\n          setPersons(persons.filter((person) => person.id !== id));\n        })\n        .catch((error) => {\n          setNotificationWithTimeout(\"error\", error.response.data.error);\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter filter={search} handleOnChange={handleSearchChange} />\n      <PersonForm\n        values={{ name, number }}\n        handlers={{ handleNumberChange, handleNameChange, handleSubmit }}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={shownPersons} deletePerson={deletePerson} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}